!function(){function a(a){return a=a.toLowerCase(),a=a.replace(/ä/g,"ae"),a=a.replace(/ö/g,"oe"),a=a.replace(/ü/g,"ue"),a=a.replace(/ß/g,"ss"),a=a.replace(/ /g,"-"),a=a.replace(/\./g,""),a=a.replace(/,/g,""),a=a.replace(/\(/g,""),a=a.replace(/\)/g,"")}tinymce.PluginManager.add("staButton",function(e){e.addButton("staButton",{title:"Anchor",icon:"icon sta-anchor-icon",onclick:function(){var n=e.selection.getContent();e.windowManager.open({title:"insert_anchor",body:[{type:"textbox",name:"name",label:"anchor_name"},{type:"textbox",name:"cssclass",label:"css_class"}],onsubmit:function(t){if(t.preventDefault(),""===t.data.name)e.windowManager.alert("Please provide an anchor name!");else{e.windowManager.close(),sanitizedname=a(t.data.name);var s="[sta_anchor";s+=' id="'+sanitizedname+'"',sanitizedname!=t.data.name&&(s+=' unsan="'+t.data.name+'"'),t.data.cssclass&&(s+=' class="'+t.data.cssclass+'"'),s+=n?"]"+n+"[/sta_anchor]":" /]",e.insertContent(s),sanitizedname!=t.data.name&&e.windowManager.alert("Link: #"+sanitizedname)}}})}})})}();